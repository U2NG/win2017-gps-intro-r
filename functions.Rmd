---
title: "Functions"
author: "Tim Dennis"
date: "January 7, 2016"
output: html_document
---

Goal: To be to define a function that takes arguments and return a value from a function. Overall, 
be able to explain why we should divide programs into small, single-purpose functions.

**What is a function?**

Functions gather a sequence of operations into a whole, preserving it for ongoing use. Functions provide:

* a name we can remember and invoke it by
* relief from the need to remember the individual operations
* a defined set of inputs and expected outputs
* rich connections to the larger programming environment

As the basic building block of most programming languages, user-defined functions constitute “programming” as much as any single abstraction can. If you have written a function, you are a computer programmer.

### Creating a function 

Open a R Script `File > New File > R Script`:

```{r}
my_sum <- function(a, b) {
  the_sum <- a + b
  return(the_sum)
}
```

Using (calling) this function: 

```{r}
my_sum(10, 15)

```

Let's define a function that converts Fahrenheit to Kelvin.

```{r}
fahr_to_kelvin <- function(temp) {
  kelvin <- ((temp - 32) * (5 / 9)) + 273.15
  return(kelvin)
}
```

* define function fahr_to_kelvin by assigning it to the output of `function`. 
* List of arguments in the parenthese
* `body` of the funtion -- the operations that are executed -- are within the `{}`
* indent statements 2 spaces inside body

**Calling the function** 

* when we call the function we pass it values in the parentheses, so they can be used in the body
* we use a return statement to send back results of the call
* return state optional in R 

```{r}
#freezing point of water
fahr_to_kelvin(32)

#boiling point of water
fahr_to_kelvin(212)
```

Write a function called kelvin_to_celsius that takes a temperature in Kelvin and returns that temperature in Celsiu. Hint: To convert from Kelvin to Celsius you minus 273.15
```{r}

kelvin_to_celsius <- function(temp) {
  celsius <- temp - 273.15
  return(celsius)
}

```

## Skip Combining function for lab 

* use farh_to_kelvin and kelvin_to_celsius to create a function that converts dire from fahr_to_celsius
* hint 

## Calculate GDP from GapMinder dataset

* make sure dataset is loaded as 'gapminder'

```{r}
gapminder <- read.csv(
  file = 'data/gapminder-FiveYearData.csv',
  header = T
  
)
head(gapminder)
```


```{r}
# Takes a dataset and multiplies the population column
# with the GDP per capita column.
calcGDP <- function(dat){
  gdp <- dat$pop * dat$gdpPercap
  return(gdp)
}

```

* defined calcGDP by using function.
```{r}

calcGDP(head(gapminder))

```


