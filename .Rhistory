download.file('https://raw.githubusercontent.com/resbaz/r-novice-gapminder-files/master/data/gapminder-FiveYearData.csv', 'data/gapminder-FiveYearData.csv
)
lkajsdf
laksfj'''
download.file('https://raw.githubusercontent.com/resbaz/r-novice-gapminder-files/master/data/gapminder-FiveYearData.csv', 'data/gapminder-FiveYearData.csv')
#m[, c(3,6)] #will throw error if out of range
library(testthat)
expect_that(w2a1, is_a("lm"))
library(testit)
library(ggplot2)
library(testthat)
gapminder <- read.csv("data/gapminder-FiveYearData.csv", header=TRUE)
w2a1 <- ggplot(data = gapminder, aes(x=year, y=lifeExp, by=country, color=continent)) +
geom_line()
expect_that(w2a1, is_a("lm"))
expect_that(w2a1, is_a('ggplot'))
typeof(expect_that(w2a1, is_a('ggplot'))
)
expect_that("year", equals(w2a1$labels$x[1]))
expect_that("years", equals(w2a1$labels$x[1]))
str(w2a1)
expect_that(str(w2a1$facet), prints_text("List of 2"))
expect_that(str(w2a1$facet), prints_text("List of 1"))
w2a1$labels
w2a1$labels$x
w2a1$labels[1]
w2a1$labels[1:3]
w2a1$labels[[1]]
w2a1$labels[c(1:3)]
str(w2a1)
w2a1$scales
typeof(w2a1$scales)
w2a1$scales
w2a1$layers
expect_that('geom_line', equals(w2a1$layers))
expect_that('geom_line', equals(w2a1$layers[[1]]))
data <- data.frame(sex = c(rep(1, 1000), rep(2, 1000)),
treatment = rep(c(1, 2), 1000),
response1 = rnorm(2000, 0, 1),
response2 = rnorm(2000, 0, 1))
View(data)
head(data)
library(reshape2)
melted <- melt(data, id.vars=c("sex", "treatment"))
View(melted)
library(tidyr)
??gather
gather(data, var, response1:response2)
stocks <- data.frame(
time = as.Date('2009-01-01') + 0:9,
X = rnorm(10, 0, 1),
Y = rnorm(10, 0, 2),
Z = rnorm(10, 0, 4)
)
View(stocks)
gather(stocks, stock, price, -time)
gather(data, var, value, -c(sex,treatment))
head(gather(data, var, value, -c(sex,treatment)))
ls()
my_sum <- function(a, b) {
the_sum <- a + b
return(the_sum)
}
body(my_sum)
args(my_sum)
?args
args(c)
args(graphics::plot.default)
?formals
my_sum <- function(a, b) {
the_sum <- a + b
return(the_sum)
}
my_sum(10,15)
environment(my_sum)
body(my_sum)
formals(my_sum)
args(my_sum)
fahr_to_kelvin <- function(temp) {
kelvin <- ((temp - 32) * (5/9)) + 273.15
}
fahr_to_kelvin(32)
fahr_to_kelvin <- function(temp) {
kelvin <- ((temp - 32) * (5/9)) + 273.15
return(kelvin)
}
fahr_to_kelvin(32)
fahr_to_kelvin(212)
gapminder <- read.csv(
file = 'data/gapminder-FiveYearData.csv',
header = T
)
View(gapminder)
head(gapminder)
calcGDP <- function(dat){
gdp <- dat$pop * dat$gdpPercap
return(gdp)
}
calcGDP(head(gapminder))
source("functions/functions.R")
calcGDP <- function(dat, year = NULL, country = NULL){
if(!is.null(year)) {
dat <- dat[dat$year %in% year, ]
}
if(!is.null(country)){
dat <- dat[dat$country %in% country, ]
}
gdp <- dat$pop * dat$gdpPercap
new <- cbind(dat, gdp=gdp)
return(new)
}
head(calcGDP((gapminder, year=2007)))
head(calcGDP(gapminder, year=2007))
calcGDP(gapminder, country="Australia")
calcGDP(gapminder, year=2007, country= "Australia")
library(ggplot2)
ggplot(data = gapminder, aes(x = lifeEXp, y = gdpPercap)) + geom_point()
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap)) + geom_point()
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap)) #+ geom_point()
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap)) + geom_point()
lifeExp
ggplot(data = gapminder, aes(x=year, y=lifeExp, by=country, color=continent)) + geom_line()
ggplot(data = gapminder, aes(x=year, y=lifeExp, by=country, color=continent)) +
geom_line() + geom_point()
ggplot(data = gapminder, aes(x=year, y=lifeExp, by=country)) +
geom_line(aes(color=continent)) + geom_point()
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap, color=continent)) +
geom_point()
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap)) +
geom_point() + scale_y_log10()
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap)) +
geom_point() + scale_y_log10() + geom_smooth(method=lm)
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap)) +
geom_point() + scale_y_log10() + geom_smooth(method=lm, size=1.5)
ggplot(data = gapminder, aes(x = year, y = lifeExp, color = continent)) +
geom_line() + facet_wrap(~country)
x <- data.frame(a = 5:1, b = 1:5, letters[1:5])
View(x)
(a = 5:1, b = 1:5, let = letters[1:5])
dat[c(1,3), 3:2]
dat <- data.frame(a = 5:1, b = 1:5, let = letters[1:5])
dat[c(1,3), 3:2]
length(x)
x <- 5
str(dat)
typeof(x1)
x1 <- 5:1
typeof(x1)
class(x1)
str(dat)
library(ggplot2)
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap)) +
geom_point()
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap))
ggplot(data = gapminder, aes(x=year, y = lifeExp, by = country, color=continent)) +
geom_line()
ggplot(data = gapminder, aes(x=year, y = lifeExp, by = country, color=continent)) +
geom_line() + geom_point()
ggplot(data = gapminder, aes(x=year, y = lifeExp, by = country)) +
geom_line(aes(color=continent)) + geom_point()
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap, color = continent)) +
geom_point()
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap, color = continent)) +
geom_point() + scale_y_log10()
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap, color = continent)) +
geom_point() + scale_y_log10() + geom_smooth(method = "lm")
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap)) +
geom_point() + scale_y_log10() + geom_smooth(method = "lm")
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap)) +
geom_point() + scale_y_log10() + geom_smooth(method = "lm", size = 1.5)
ggplot(data = gapminder, aes(x = year, y = lifeExp, color=continent)) +
geom_line() + facet_wrap(~country)
ggplot(data = gapminder, aes(x = year, y = lifeExp, color=continent)) +
geom_line() + facet_wrap(~country) +
xlab("Year") + ylab("Life expectancy") + ggtitle("Figure 1 ") +
scale_fill_discrete(name = "Continent") +
theme(axis.text.x=element_blank()), axis.ticks.x=element_blank())
ggplot(data = gapminder, aes(x = year, y = lifeExp, color=continent)) +
geom_line() + facet_wrap(~country) +
xlab("Year") + ylab("Life expectancy") + ggtitle("Figure 1 ") +
scale_fill_discrete(name = "Continent") +
theme(axis.text.x=element_blank(), axis.ticks.x=element_blank())
ggplot(data = gapminder, aes(x = year, y = lifeExp, color=continent)) +
geom_line() + facet_wrap( ~ country) +
xlab("Year") + ylab("Life expectancy") + ggtitle("Figure 1") +
scale_fill_discrete(name="Continent") +
theme(axis.text.x=element_blank(), axis.ticks.x=element_blank())
View(gapminder)
head(log10(gapminder$gdpPercap))
tail(log10(gapminder$gdpPercap))
log10(gapminder$gdpPercap)
w2a1 <- ggplot(data = gapminder, aes(x=year, y=lifeExp, by=country, color=continent)) +
geom_line()
str(w2a1)
library(testthat)
library(testit)
assert("is not labeled year", "year" == w2a1$labels$x[1])
assert(""number rows in data is 1704", 1705 == nrow(w2a1$data))
assert("number rows in data is 1704", 1705 == nrow(w2a1$data))
expect_that(w2a1, is_a('ggplot'))
expect_that("year", equals(w2a1$labels$x[1]))
expect_that(w2a1, is_a('lm'))
print(w2a1)
toString(w2a1)
mean(gapminder[gapminder$continent == "Africa", "gdpPercap"])
mean(gapminder[gapminder$continent == "Americas", "gdpPercap"])
mean(gapminder[gapminder$continent == "Asia", "gdpPercap"])
year_country_gdp <- select(gapminder, year, country, gdpPercap)
library(dplyr)
year_country_gdp <- select(gapminder, year, country, gdpPercap)
head(year_country_gdp)
year_country_gdp <- gapminder %>% select(year,country,gdpPercap)
head(year_country_gdp)
year_country_gdp_euro <- gapminder %>%
filter(continent == "Europe") %>%
select(year, country, gdpPercap)
year_country_gdp_euro
str(gapminder %>% group_by(continent))
